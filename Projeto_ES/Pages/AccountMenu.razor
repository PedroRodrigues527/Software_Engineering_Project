@page "/account/menu"
@inject NavigationManager NavigationManager
@inject Blazored.SessionStorage.ISessionStorageService sessionStorage

<style>
    body {
        background: linear-gradient( rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.4) ), url("images/image1.png") no-repeat center center fixed;
        background-size: cover;
    }
</style>

<PageTitle>Account Menu</PageTitle>

<p>
    <label>@usernamelogged</label>
</p>

@code {
    string usernamelogged;
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            usernamelogged = await sessionStorage.GetItemAsync<string>("UsernameLogged");
            if(usernamelogged==null)
            {
                //Redirect to login page
                NavigationManager.NavigateTo("/login");
            }

            StateHasChanged();
        }
    }
}
